<?php
/**
 * eoc functions and definitions
 *
 * @link https://developer.wordpress.org/themes/basics/theme-functions/
 *
 * @package eoc
 */

if ( ! defined( '_S_VERSION' ) ) {
	// Replace the version number of the theme on each release.
	define( '_S_VERSION', '1.0.0' );
}

if ( ! function_exists( 'eoc_setup' ) ) :
	/**
	 * Sets up theme defaults and registers support for various WordPress features.
	 *
	 * Note that this function is hooked into the after_setup_theme hook, which
	 * runs before the init hook. The init hook is too late for some features, such
	 * as indicating support for post thumbnails.
	 */
	function eoc_setup() {
		/*
		 * Make theme available for translation.
		 * Translations can be filed in the /languages/ directory.
		 * If you're building a theme based on eoc, use a find and replace
		 * to change 'eoc' to the name of your theme in all the template files.
		 */
		load_theme_textdomain( 'eoc', get_template_directory() . '/languages' );

		// Add default posts and comments RSS feed links to head.
		add_theme_support( 'automatic-feed-links' );

		/*
		 * Let WordPress manage the document title.
		 * By adding theme support, we declare that this theme does not use a
		 * hard-coded <title> tag in the document head, and expect WordPress to
		 * provide it for us.
		 */
		add_theme_support( 'title-tag' );

		/*
		 * Enable support for Post Thumbnails on posts and pages.
		 *
		 * @link https://developer.wordpress.org/themes/functionality/featured-images-post-thumbnails/
		 */
		add_theme_support( 'post-thumbnails' );

		// This theme uses wp_nav_menu() in one location.
		register_nav_menus(
			array(
				'menu-1' => esc_html__( 'Primary', 'eoc' ),
			)
		);

		/*
		 * Switch default core markup for search form, comment form, and comments
		 * to output valid HTML5.
		 */
		add_theme_support(
			'html5',
			array(
				'search-form',
				'comment-form',
				'comment-list',
				'gallery',
				'caption',
				'style',
				'script',
			)
		);

		// Set up the WordPress core custom background feature.
		add_theme_support(
			'custom-background',
			apply_filters(
				'eoc_custom_background_args',
				array(
					'default-color' => 'ffffff',
					'default-image' => '',
				)
			)
		);

		// Add theme support for selective refresh for widgets.
		add_theme_support( 'customize-selective-refresh-widgets' );

		/**
		 * Add support for core custom logo.
		 *
		 * @link https://codex.wordpress.org/Theme_Logo
		 */
		add_theme_support(
			'custom-logo',
			array(
				'height'      => 250,
				'width'       => 250,
				'flex-width'  => true,
				'flex-height' => true,
			)
		);
	}
endif;
add_action( 'after_setup_theme', 'eoc_setup' );

/**
 * Set the content width in pixels, based on the theme's design and stylesheet.
 *
 * Priority 0 to make it available to lower priority callbacks.
 *
 * @global int $content_width
 */
function eoc_content_width() {
	$GLOBALS['content_width'] = apply_filters( 'eoc_content_width', 640 );
}
add_action( 'after_setup_theme', 'eoc_content_width', 0 );

/**
 * Register widget area.
 *
 * @link https://developer.wordpress.org/themes/functionality/sidebars/#registering-a-sidebar
 */
function eoc_widgets_init() {
	register_sidebar(
		array(
			'name'          => esc_html__( 'Sidebar', 'eoc' ),
			'id'            => 'sidebar-1',
			'description'   => esc_html__( 'Add widgets here.', 'eoc' ),
			'before_widget' => '<section id="%1$s" class="widget %2$s">',
			'after_widget'  => '</section>',
			'before_title'  => '<h2 class="widget-title">',
			'after_title'   => '</h2>',
		)
	);
}
add_action( 'widgets_init', 'eoc_widgets_init' );

/**
 * Enqueue scripts and styles.
 */
function eoc_scripts() {
	wp_enqueue_style( 'eoc-style', get_stylesheet_uri(), array(), _S_VERSION );

	wp_enqueue_style( 'base-root', get_template_directory_uri() . '/css/base/@root.css' );
	wp_enqueue_style( 'base-elements', get_template_directory_uri() . '/css/base/elements.css' );
	wp_enqueue_style( 'base-fonts', get_template_directory_uri() . '/css/base/fonts.css' );

	wp_enqueue_style( 'components-broadsheet', get_template_directory_uri() . '/css/components/broadsheet.css' );
	wp_enqueue_style( 'components-accordion', get_template_directory_uri() . '/css/components/accordion.css' );
	wp_enqueue_style( 'components-post', get_template_directory_uri() . '/css/components/post.css' );
	wp_enqueue_style( 'components-search', get_template_directory_uri() . '/css/components/search.css' );
	wp_enqueue_style( 'components-like', get_template_directory_uri() . '/css/components/like.css' );
	wp_enqueue_style( 'components-cursor', get_template_directory_uri() . '/css/components/cursor.css' );
	wp_enqueue_style( 'components-header', get_template_directory_uri() . '/css/components/header.css' );
	wp_enqueue_style( 'components-categories', get_template_directory_uri() . '/css/components/categories.css' );
	wp_enqueue_style( 'components-error', get_template_directory_uri() . '/css/components/404.css' );
	wp_enqueue_style( 'components-navigation', get_template_directory_uri() . '/css/components/navigation.css' );
	wp_enqueue_style( 'components-landing', get_template_directory_uri() . '/css/components/landing.css' );

	wp_enqueue_style( 'utils-appear', get_template_directory_uri() . '/css/utils/appear.css' );
	wp_enqueue_style( 'utils-sticky', get_template_directory_uri() . '/css/utils/sticky.css' );


	wp_style_add_data( 'eoc-style', 'rtl', 'replace' );

	wp_enqueue_script( 'js-p5', get_template_directory_uri() . '/js/p5.min.js', array(), _S_VERSION, true );


	wp_enqueue_script( 'eoc-navigation', get_template_directory_uri() . '/js/navigation.js', array(), _S_VERSION, true );
	wp_enqueue_script( 'js-cursor', get_template_directory_uri() . '/js/cursor.js', array(), _S_VERSION, true );
	wp_enqueue_script( 'js-accordion', get_template_directory_uri() . '/js/accordion.js', array(), _S_VERSION, true );
	wp_enqueue_script( 'js-appear', get_template_directory_uri() . '/js/appear.js', array(), _S_VERSION, true );
	wp_enqueue_script( 'js-expander', get_template_directory_uri() . '/js/expander.js', array(), _S_VERSION, true );
	wp_enqueue_script( 'js-sticky', get_template_directory_uri() . '/js/sticky.js', array(), _S_VERSION, true );
	wp_enqueue_script( 'js-topics', get_template_directory_uri() . '/js/topics.js', array(), _S_VERSION, true );

	if ( is_404() ) {
		wp_enqueue_script( 'js-404', get_template_directory_uri() . '/js/404.js', array(), _S_VERSION, true );
  }

	if ( is_singular() && comments_open() && get_option( 'thread_comments' ) ) {
		wp_enqueue_script( 'comment-reply' );
	}
}
add_action( 'wp_enqueue_scripts', 'eoc_scripts' );

/**
 * Implement the Custom Header feature.
 */
require get_template_directory() . '/inc/custom-header.php';

/**
 * Custom template tags for this theme.
 */
require get_template_directory() . '/inc/template-tags.php';

/**
 * Functions which enhance the theme by hooking into WordPress.
 */
require get_template_directory() . '/inc/template-functions.php';

/**
 * Customizer additions.
 */
require get_template_directory() . '/inc/customizer.php';

/**
 * Load Jetpack compatibility file.
 */
if ( defined( 'JETPACK__VERSION' ) ) {
	require get_template_directory() . '/inc/jetpack.php';
}

// Change POSTS to Resource in WP dashboard
add_action( 'admin_menu', 'pilau_change_post_menu_label' );
add_action( 'init', 'pilau_change_post_object_label' );
function pilau_change_post_menu_label() {
    global $menu;
    global $submenu;
    $menu[5][0] = 'Resources';
    $submenu['edit.php'][5][0] = 'Resources';
    $submenu['edit.php'][10][0] = 'Add Resource';
    $submenu['edit.php'][16][0] = 'Resource Tags';
    echo '';
}
function pilau_change_post_object_label() {
    global $wp_post_types;
    $labels = &$wp_post_types['post']->labels;
    $labels->name = 'Resource';
    $labels->singular_name = 'Resource';
    $labels->add_new = 'Add Resource';
    $labels->add_new_item = 'Add Resource';
    $labels->edit_item = 'Edit Resource';
    $labels->new_item = 'Resource';
    $labels->view_item = 'View Resource';
    $labels->search_items = 'Search Resources';
    $labels->not_found = 'No News found';
    $labels->not_found_in_trash = 'No Resource found in Trash';
}

// Links to titles
function print_post_title() {
global $post;
$thePostID = $post->ID;
$post_id = get_post($thePostID);
$title = $post_id->post_title;
$perm = get_permalink($post_id);
$post_keys = array();
$post_val = array();
$post_keys = get_post_custom_keys($thePostID);

	if (!empty($post_keys)) {
		foreach ($post_keys as $pkey) {
			if ($pkey=='external_link') {
				$post_val = get_post_custom_values($pkey);
			}
		}
		if (empty($post_val)) {
			$link = $perm;
		} else {
			$link = $post_val[0];
		}
	} else {
		$link = $perm;
	}
	echo '<h2 class="sort-name"><a class="link--text" target="_blank" href="'.$link.'" rel="bookmark" title="'.$title.'">'.$title.'</a></h2>';
}

//Link to indiebound
function print_indiebound_link() {
	global $post;
	$thePostID = $post->ID;
	$post_id = get_post($thePostID);
	$title = $post_id->post_title;
	$perm = get_permalink($post_id);
	$post_keys = array(); $post_val = array();
	$post_keys = get_post_custom_keys($thePostID);
	if (!empty($post_keys)) {
		foreach ($post_keys as $pkey) {
			if ($pkey=='indiebound_link') {
				$post_val = get_post_custom_values($pkey);
			}
		}
		if (empty($post_val)) {
			$link = $perm;
		} else {
			$link = $post_val[0];
			echo '<a class="badge badge--indiebound" target="_blank" href="'.$link.'" rel="bookmark" title="Buy '.$title.' to IndieBound">IndieBound<svg width="25" height="29" viewBox="0 0 25 29" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M18.9153 19.783C18.9958 20.0512 18.6002 20.0713 18.7946 20.3597C19.0562 20.3261 18.9288 19.9975 19.1366 19.9305C19.0964 19.7628 19.2238 19.7159 19.2104 19.5684C19.0897 19.622 19.0092 19.7092 18.9153 19.783Z" fill="white"/>
<path d="M20.0547 18.3338C19.9139 18.3204 19.8937 18.4813 19.9608 18.5484C20.0614 18.5283 20.0882 18.4545 20.0547 18.3338Z" fill="white"/>
<path d="M18.6462 21.0894C18.6529 21.1229 18.6395 21.143 18.6328 21.1699C18.6865 21.2168 18.7401 21.1564 18.7468 21.1028C18.7133 21.0961 18.6932 21.0693 18.6462 21.0894Z" fill="white"/>
<path d="M19.1997 19.2862C19.1527 19.3599 19.1661 19.4538 19.2332 19.5075C19.3941 19.4941 19.4545 19.4069 19.4545 19.2728C19.3941 19.2124 19.3338 19.2862 19.1997 19.2862Z" fill="white"/>
<path d="M21.3763 11.7356C21.6915 11.7222 21.336 11.454 21.3763 11.7356Z" fill="white"/>
<path d="M19.4856 19.1458C19.613 19.1458 19.6734 19.0921 19.6398 18.9714C19.5325 18.9379 19.4319 19.0049 19.4856 19.1458Z" fill="white"/>
<path d="M23.6083 15.5442C23.3937 15.846 23.3133 16.2551 23.092 16.5568C22.8841 17.442 22.3744 18.0992 22.0861 18.9308C22.0458 18.9576 21.9989 18.9844 21.9452 19.0045C21.7642 19.4605 21.4423 19.8092 21.2881 20.2854C20.7315 21.0431 20.3895 21.9216 19.8865 22.7129C19.7725 22.894 19.6317 23.0348 19.5244 23.2226C19.1958 23.7993 18.8337 24.4364 18.4313 24.9997C17.9485 25.677 17.687 26.0994 17.1371 26.6627C16.9895 26.817 16.8353 26.9913 16.6475 27.1389C16.6408 26.9712 16.8085 26.9377 16.8554 26.8036C16.8286 26.4884 17.1907 26.3677 17.0767 26.0592C17.2846 25.8178 17.0834 25.7574 17.2846 25.516C17.3382 25.4557 17.3919 25.2344 17.4321 25.1941C17.6803 25.0466 17.8211 24.9795 17.7205 24.6442C17.9418 24.604 17.8881 24.2888 17.9351 24.1815C18.0893 24.0206 18.1363 23.7859 18.371 23.6853C18.3844 23.5713 18.3106 23.5646 18.2905 23.4908C18.5118 23.2226 18.7331 22.9476 18.8203 22.5788C19.2159 22.3776 19.169 21.8479 19.4909 21.5997C19.511 21.1035 19.9804 20.9493 19.9603 20.4195C20.0273 20.3792 20.0944 20.3457 20.1749 20.3122C20.2017 20.2787 20.1816 20.1982 20.1749 20.1378C20.3626 20.0305 20.3425 19.7757 20.5437 19.6818C20.8052 18.9442 21.3551 18.4278 21.5764 17.6633C21.6502 17.6298 21.6837 17.5627 21.7642 17.5359C21.7776 17.4622 21.7709 17.3817 21.7843 17.3079C22.0056 17.0531 22.2001 16.7781 22.2671 16.4026C22.6829 16.0338 22.7969 15.4437 23.2194 15.0748C23.2194 14.9944 23.2797 14.9541 23.2663 14.8669C23.5748 14.5853 23.7223 14.1896 23.9034 13.8141C23.9637 13.7403 24.0576 13.6934 24.1046 13.6062C24.1314 13.5995 24.1515 13.6062 24.1582 13.6263C24.0643 14.3372 23.662 14.8066 23.6083 15.5442ZM17.3785 24.1346C17.3517 23.7859 17.6333 23.4841 17.6668 23.1086C17.7138 23.008 17.8077 22.9476 17.8278 22.8336C17.9418 23.2829 17.4925 23.6987 17.3785 24.1346ZM18.1027 22.2837C18.0759 22.4715 18.0021 22.619 17.8881 22.7465C17.8345 22.6056 17.9619 22.3977 18.0223 22.2703C18.0625 22.2569 18.0692 22.2837 18.1027 22.2837ZM18.1765 21.9149C18.2301 21.9551 18.21 22.1295 18.1027 22.1295C18.0223 22.0289 18.1027 21.9619 18.1765 21.9149ZM16.5671 24.2955C16.3927 24.1949 16.5469 23.9267 16.6811 23.8462C16.728 23.5243 16.9493 23.3232 16.9895 22.9946C17.2645 22.8336 17.1974 22.4112 17.4657 22.2435C17.5126 21.9551 17.7473 21.8009 17.7339 21.4723C17.9619 21.3181 17.9015 20.9425 18.1497 20.8084C18.0625 20.5536 18.3173 20.5469 18.3106 20.3524C18.3978 20.3591 18.3106 20.5536 18.4447 20.5603C18.2368 20.6676 18.2436 20.9291 18.0558 21.0431C18.0759 21.3918 17.9552 21.6333 17.7004 21.7741C17.7071 21.935 17.64 22.0423 17.5461 22.1228C17.5528 22.2234 17.6199 22.2368 17.6266 22.3374C17.3785 22.505 17.1438 22.8001 17.2377 23.1555C17.0298 23.2963 16.8487 23.4573 16.8957 23.7859C16.6811 23.8798 16.6408 24.1078 16.5671 24.2955ZM16.4329 23.2025C16.3391 23.0147 16.4128 22.8739 16.5 22.7599C16.5134 22.6593 16.4128 22.6928 16.4262 22.5922C16.6006 22.3575 16.8688 22.1832 16.956 21.8814L17.1035 21.8613C16.842 22.2837 16.7213 22.8001 16.4329 23.2025ZM18.143 19.3599C18.1698 19.313 18.1832 19.2526 18.2503 19.2459C18.2704 19.3197 18.2033 19.3398 18.143 19.3599ZM16.2116 20.3927C16.3458 19.5343 16.9225 19.0045 17.0901 18.1663C17.3919 17.8645 17.4388 17.3817 17.6937 17.0397C17.7004 16.9391 17.687 16.9525 17.6668 16.8385C18.1966 16.1075 18.4783 15.1821 19.055 14.4847L19.1287 14.4713C19.1757 14.6993 18.9477 14.7194 19.0483 14.9877C18.7733 15.3297 18.6057 15.7454 18.485 16.2081C18.029 16.7848 17.9485 17.6566 17.5059 18.2467C17.4925 18.7028 17.0968 18.9844 17.1102 19.3935C16.9024 19.6282 16.7213 19.883 16.4732 20.0909C16.4531 20.2317 16.4732 20.4061 16.2921 20.4195C16.2787 20.4061 16.2586 20.386 16.2116 20.3927ZM15.9099 18.5888C15.8093 18.401 16.1513 18.2669 15.9367 18.0523C16.1379 17.6097 16.3324 17.1671 16.4195 16.644C16.7213 16.1478 17.0231 15.6448 17.3785 15.1888C17.4858 15.2961 17.2377 15.4906 17.184 15.618C17.231 15.7924 17.1438 15.8661 17.1371 16.007C16.9225 16.0807 16.9895 16.3691 16.7951 16.463C16.7817 16.9324 16.4262 17.147 16.4262 17.6298C16.2116 17.9115 16.1848 18.3406 15.9099 18.5888ZM15.9501 24.2553C15.8428 24.1547 15.8026 23.9669 15.816 23.8462L15.9166 23.8328C15.9635 23.9334 15.9568 24.1346 15.9501 24.2553ZM15.6215 26.6091C15.5545 26.4817 15.474 26.3677 15.4606 26.1732C15.5612 26.0793 15.7489 25.905 15.8965 26.0324C15.7758 26.2067 15.7691 26.4616 15.6215 26.6091ZM15.3399 18.287C15.3868 18.1462 15.5209 17.9919 15.4807 17.8645C15.655 17.7036 15.5545 17.4823 15.6416 17.2341C15.6752 17.147 15.8093 17.0531 15.8562 16.9525C15.9367 16.7647 15.9903 16.6105 15.9501 16.3959C16.2519 15.8527 16.0574 15.8192 16.3994 15.3028L16.4195 15.4302C16.4531 15.3229 16.6006 15.2961 16.5536 15.1352C16.5201 15.0681 16.4732 15.162 16.4329 15.1553C16.4396 15.048 16.4665 14.9608 16.5201 14.8871C16.5738 14.8736 16.5469 14.9742 16.5604 15.0078C16.6677 15.0145 16.6341 14.9139 16.7548 14.9273C16.7682 15.0815 16.6341 15.1352 16.6811 15.3162C16.9359 15.2827 16.8688 15.0145 17.0298 14.9139C17.0432 14.82 16.956 14.8535 16.956 14.7731C17.0767 14.7731 17.1035 14.5249 16.9895 14.4914C17.07 14.4109 17.1706 14.3103 17.07 14.1494C17.0968 14.1628 17.1304 14.1695 17.1706 14.1628C17.0834 14.0019 17.1572 14.022 17.1505 13.8342C16.9225 13.9482 16.8822 14.1963 16.7749 14.3975C16.7884 14.478 16.8688 14.4713 16.956 14.4445C16.9493 14.5518 16.8621 14.592 16.842 14.6859C16.7079 14.5652 16.6408 14.7529 16.5268 14.7798C16.4128 14.6121 16.6677 14.592 16.5536 14.4243C16.6341 14.4243 16.6677 14.3908 16.7213 14.3774C16.7749 14.0354 16.9493 13.7806 17.1035 13.5123C17.1773 13.4855 17.1639 13.5727 17.2377 13.5459C17.3181 13.5123 17.345 13.3447 17.2712 13.2642C17.1773 13.2843 17.1907 13.3849 17.1438 13.4319C17.0566 13.4319 17.0767 13.2843 16.9962 13.2776C16.728 13.4654 16.614 13.7739 16.5604 14.1226C16.4598 14.1427 16.4464 14.2299 16.3793 14.2768C16.0306 15.39 15.8696 15.7991 15.5276 16.919C15.4606 16.9324 15.474 17.0129 15.4203 17.033C15.4069 17.328 15.1052 17.7975 15.0582 18.0657C14.8101 17.9986 15.0918 17.1805 14.8369 17.0665C14.629 16.3959 15.085 16.302 15.1253 15.6784C15.3667 15.3162 15.4472 15.2894 15.5478 14.8267C15.9635 14.1561 16.2049 13.3581 16.6408 12.6942C16.6274 12.5802 16.6811 12.5199 16.6475 12.3924C16.7414 12.312 16.8085 12.2181 16.8889 12.1309C16.8487 11.9968 16.9627 11.9767 16.956 11.8694C17.2712 11.514 17.4992 11.0982 17.6132 10.5885C17.8144 10.3874 17.9619 9.99171 18.143 9.67653C18.2368 9.51558 18.3978 9.46864 18.3576 9.21381C18.4313 9.20711 18.4447 9.14675 18.4984 9.11993C18.6861 8.6304 18.9343 8.1878 19.2494 7.79886C19.2494 7.5172 19.5713 7.47697 19.511 7.15508C19.7256 6.84661 19.9335 6.52472 20.1346 6.20284C20.1145 6.11566 20.1413 6.06201 20.1548 5.99495C20.4096 5.85413 20.5035 5.59259 20.5906 5.32435C21.4356 5.19024 21.1405 6.00836 21.1405 6.53813C21.0668 6.52472 21.0802 6.58508 21.0198 6.57837C21.0802 6.9472 20.7181 7.11485 20.8388 7.46356C20.7113 7.57756 20.5303 7.7385 20.6577 7.97321C20.5571 8.04027 20.5035 8.14086 20.4096 8.20792L20.4364 8.38227C20.1548 8.77122 20.0072 9.25405 19.7859 9.68994C19.7926 9.73017 19.7859 9.78382 19.8262 9.78382C19.7524 9.91124 19.6384 10.0118 19.5445 10.1258C19.5244 10.5416 19.2092 10.7361 19.122 11.0982C19.1287 11.286 19.1086 11.4402 19.0617 11.5877C18.9074 11.6078 18.7264 11.4737 18.6124 11.628C18.6459 11.7084 18.7398 11.7017 18.8069 11.7286C18.6861 12.4394 18.324 12.9624 18.0491 13.5593C17.8747 13.405 18.0692 13.0697 17.8278 12.9088C17.6333 12.9759 17.5059 13.0966 17.4455 13.2642C17.4657 13.3581 17.573 13.3112 17.5193 13.4319C17.5931 13.4185 17.6668 13.4587 17.754 13.4989C17.8412 13.7605 17.6199 13.8745 17.7674 14.1092C17.6065 14.3841 17.5528 14.7462 17.2511 14.9206C17.1035 15.2358 16.8688 15.4906 16.7146 15.8058C16.6408 15.8326 16.6207 15.7924 16.5604 15.7991C16.5872 16.1344 16.0239 16.1947 16.2586 16.5501C15.8227 17.3951 15.7556 17.5426 15.5075 18.5284C15.4203 18.5016 15.4069 18.3608 15.3399 18.287ZM14.7699 20.2854C14.4949 20.5603 14.1529 20.7011 13.7573 20.7011C13.3683 20.7011 13.033 20.5603 12.7514 20.2787C12.4697 19.997 12.3289 19.6617 12.3289 19.2728C12.3289 18.8771 12.4697 18.5351 12.7447 18.2602C13.0196 17.9852 13.3616 17.8444 13.7573 17.8444C14.1529 17.8444 14.4949 17.9852 14.7699 18.2602C15.0448 18.5351 15.1856 18.8771 15.1856 19.2728C15.1856 19.6751 15.0515 20.0104 14.7699 20.2854ZM12.9391 15.7119C13.0062 15.8393 12.8989 15.9801 12.8654 16.1008C12.8251 16.0338 12.7648 15.9935 12.7178 15.9466C12.7245 15.8259 12.7715 15.6381 12.9391 15.7119ZM13.7237 16.2148L13.7103 16.1143C13.7975 16.0807 13.8176 16.2148 13.7237 16.2148ZM16.6207 11.6481C16.614 11.695 16.4531 11.7755 16.4665 11.6414C16.5268 11.628 16.5872 11.6213 16.6207 11.6481ZM13.8646 15.276C13.8914 14.7664 14.3675 14.5115 14.2602 13.975C14.6492 13.5794 14.6693 12.9021 15.0649 12.5199C15.2594 12.0974 15.5209 11.7218 15.6416 11.2457C15.9769 10.9775 16.0038 10.4812 16.3324 10.213C16.8219 9.24064 17.5193 8.42922 18.1094 7.53062C18.1966 7.52391 18.1899 7.44344 18.2704 7.43003C18.5923 6.86673 19.0885 6.43084 19.5311 5.96142C19.6183 5.97483 19.5512 6.00836 19.5713 6.08213C19.1556 6.28331 19.1757 6.80637 18.8471 7.07461L18.8739 7.24897C18.6593 7.42332 18.438 7.70497 18.4716 7.99333C18.3441 7.99333 18.3106 8.06039 18.2368 8.10062C18.1899 8.56334 17.7272 8.71087 17.7339 9.21381C17.5059 9.32782 17.3517 9.48876 17.412 9.81735C17.231 9.93135 17.2578 10.2063 17.0231 10.2801C17.0029 10.3605 17.0298 10.3672 17.0499 10.4544C16.6878 10.8769 16.4396 11.3865 16.158 11.8694C16.2184 12.1175 16.3055 12.4126 16.1915 12.6272C16.0976 12.6339 16.1111 12.4997 15.9769 12.5534C15.9434 12.5668 15.9434 12.6003 15.9099 12.6137C16.2586 13.1167 15.4002 13.1972 15.4539 13.6934C15.427 13.747 15.3399 13.7538 15.2929 13.794C15.2996 13.8543 15.3466 13.861 15.3399 13.9415C15.0783 14.0488 15.0783 14.3305 15.132 14.6322C14.9509 14.7529 14.7497 14.8468 14.7967 15.1352C14.7229 15.162 14.7363 15.0748 14.6626 15.1017C14.5955 15.2559 14.7296 15.3565 14.7833 15.4369C14.6827 15.4638 14.6626 15.5711 14.5419 15.5241C14.5284 15.6314 14.562 15.7186 14.5687 15.8728C14.4815 15.9667 14.3004 15.9801 14.2736 16.1143C14.287 16.188 14.3474 16.188 14.3675 16.2551C14.2669 16.3557 14.2736 16.5434 14.0523 16.5501C14.106 16.1813 13.8847 15.9064 13.7439 15.6314C13.7908 15.504 13.7506 15.3297 13.8646 15.276ZM18.0491 14.9407C18.0558 15.048 17.9686 15.162 17.9015 15.1419C17.8948 15.0346 17.982 14.9139 18.0491 14.9407ZM18.0424 14.8669C18.0491 14.6255 18.0893 14.4109 18.2972 14.3238C18.4112 13.9147 18.6929 13.6263 18.941 13.3179C18.9812 13.3045 18.9879 13.3313 19.0013 13.3581C18.8739 13.7403 18.5185 13.9415 18.4581 14.3707C18.2771 14.5115 18.2301 14.7395 18.0424 14.8669ZM21.4557 4.09716L21.4356 3.94963C21.563 3.93622 21.5563 3.82892 21.6099 3.77528C21.6032 3.6948 21.5295 3.70151 21.5362 3.60763C21.6301 3.58751 21.6904 3.6881 21.7642 3.60092C21.8514 3.54057 21.8044 3.50033 21.7843 3.39304C22.0525 3.31256 22.019 3.00409 22.2738 2.91691C22.247 2.84315 22.3074 2.82303 22.2738 2.74256C22.4482 2.62185 22.5957 2.48102 22.6091 2.23961C22.7768 2.17926 22.8707 2.06526 22.9444 1.93784C22.931 1.83055 22.8573 1.7836 22.8841 1.68972C22.9243 1.62266 23.0115 1.71654 23.0517 1.64278C23.0987 1.60254 23.092 1.52207 23.0987 1.45501C23.2395 1.38795 23.3401 1.29407 23.3602 1.13983C23.615 1.02583 23.7626 0.838063 23.8967 0.630178C24.1448 0.623473 24.1783 0.402176 24.413 0.509471C24.3527 0.690532 24.2387 0.931947 24.3259 1.15324C24.1113 1.30748 23.9772 1.62266 24.0576 1.92443C23.7559 2.28655 23.6754 2.82303 23.434 3.23209C23.4273 3.31256 23.4876 3.29915 23.4809 3.37962C23.273 3.52716 23.3066 3.85575 23.2529 4.12399C22.9847 4.28493 22.9377 4.61352 22.8841 4.93541C22.7701 4.98235 22.8237 5.08294 22.7701 5.17682C22.7433 5.21706 22.6561 5.23718 22.636 5.29753C22.5823 5.43836 22.6024 5.63283 22.5488 5.76695C22.5153 5.85413 22.408 5.90777 22.3811 5.99495C22.3275 6.14919 22.3342 6.25648 22.2604 6.41743C22.1129 6.75272 21.952 7.13496 21.9117 7.55744C21.8178 7.59097 21.7709 7.65803 21.7374 7.7318C21.6904 8.52981 21.0869 8.91205 21.0869 9.75029C20.7113 10.1258 20.7583 10.8232 20.2956 11.1317C20.2822 11.2524 20.376 11.2189 20.376 11.3262C20.309 11.3597 20.309 11.2994 20.2486 11.3195C20.0139 11.7017 19.6384 11.97 19.464 12.3924C19.3634 12.4327 19.2964 12.5064 19.1824 12.5333C19.1623 12.835 18.9678 13.0094 18.7398 13.1569C18.7331 13.0295 18.8337 12.9759 18.9074 12.9021C18.8538 12.5534 19.1757 12.4863 19.1019 12.1175C19.2226 12.0571 19.2562 11.9364 19.397 11.8962C19.4037 11.5944 19.578 11.4067 19.4842 11.0982L19.6116 11.0781C19.7524 10.8367 19.9603 10.6422 19.9871 10.3136C20.0475 10.3069 20.0609 10.2667 20.1078 10.2465C20.0139 9.83076 20.5169 9.56923 20.4364 9.16017C20.8656 8.96569 20.5303 8.28839 21.0265 8.11404C20.9326 7.63121 21.2746 7.47026 21.2545 7.04108C21.3283 6.91367 21.4825 6.73261 21.5094 6.4979C21.5295 6.29672 21.4557 6.06201 21.4691 5.86754C21.4758 5.76695 21.5831 5.61942 21.5697 5.52553C21.5496 5.264 21.2545 5.28412 21.2478 5.036C21.1808 4.94882 21.0802 4.90188 20.9528 4.90188C21.1003 4.62693 21.1808 4.28493 21.4557 4.09716ZM20.3157 14.4646C20.4096 14.4378 20.4632 14.4646 20.5236 14.4847C20.4699 14.6926 20.262 14.7932 20.1615 14.9675C20.1816 15.0011 20.2084 15.0279 20.2285 15.0614C20.0676 15.3766 19.853 15.6515 19.6987 15.9734C19.6317 16.0003 19.6384 15.9332 19.5915 15.9399C19.6853 15.7857 19.6987 15.504 19.6183 15.4034C19.6987 15.4302 19.7457 15.39 19.8127 15.3498C19.92 15.0145 20.2017 14.8066 20.3157 14.4646ZM18.8337 17.945C18.8404 17.8712 18.8404 17.8042 18.941 17.8042L18.9544 17.9047C18.9276 17.9316 18.8873 17.945 18.8337 17.945ZM20.9796 15.2089C21.4088 14.9541 21.6904 14.592 21.9788 14.2299C22.522 13.8745 22.8908 13.3916 23.6553 13.2039C23.6553 13.2374 23.662 13.2776 23.6888 13.2776C23.5681 13.6062 23.2462 13.7873 23.206 14.1829C22.8841 14.6456 22.5085 15.0614 22.294 15.6046C22.247 15.6314 22.1867 15.6582 22.1531 15.6985C22.1464 15.8058 22.1733 15.7991 22.1598 15.8997C21.7172 16.2081 21.6569 16.8117 21.3283 17.2073C21.2411 17.2274 21.2277 17.147 21.1472 17.1604C21.0399 17.2006 21.0802 17.3482 20.9125 17.2945C20.7113 17.603 20.3895 17.8176 20.1346 18.0858C20.1413 18.1596 20.1749 18.2065 20.2285 18.2266C20.4297 18.1327 20.5303 17.9651 20.765 17.898C20.3693 18.9173 19.739 19.7623 19.2964 20.7414C19.2092 20.8218 19.1556 20.9291 19.1086 21.0431C19.0483 21.0767 19.0282 21.1437 18.9477 21.1638C18.9343 21.3986 18.8471 21.5796 18.666 21.6869C18.6593 21.64 18.5923 21.6668 18.599 21.593C18.6258 21.479 18.8203 21.4924 18.8203 21.3583C18.8001 21.2846 18.7599 21.2443 18.6996 21.2242C18.4917 21.4187 18.4313 21.7137 18.21 21.9015C18.1966 21.7473 18.3777 21.6601 18.2503 21.4924C18.4648 21.3583 18.5185 21.1035 18.6191 20.8822C18.7264 20.8487 18.6861 21.0096 18.7867 20.9828C18.8337 20.8822 18.9477 20.8353 19.008 20.7481C19.008 20.6676 18.9611 20.6475 18.9141 20.6341C18.78 20.6274 18.827 20.7615 18.7331 20.7883C18.6191 20.6609 18.8203 20.614 18.7599 20.453C18.6794 20.386 18.6392 20.5402 18.5118 20.5134C18.5319 20.3323 18.6258 20.2116 18.6191 20.0171C18.6191 19.9232 18.4984 19.9836 18.4581 19.9367C18.4447 19.8025 18.5386 19.8897 18.6057 19.8897C18.7063 19.769 18.7733 19.6148 18.7398 19.3868C18.9276 19.2057 18.9343 18.8972 18.9879 18.6156C19.3098 18.1797 19.4171 17.5762 19.6585 17.0732C19.7725 16.9793 19.8262 16.8452 19.8262 16.6708C20.0944 16.1008 20.7248 15.7924 20.9796 15.2089ZM11.8259 20.3927C11.6583 20.1445 11.4437 19.9568 11.3163 19.655C11.0212 19.4471 11.1486 19.2661 10.8335 19.085C10.5116 18.2937 9.8611 17.9383 9.58615 17.0799C9.55933 17.0263 9.49897 17.0129 9.44533 16.9994C9.39168 16.3624 9.17709 15.9198 8.81497 15.5711C9.04967 15.1955 8.45284 15.0547 8.59367 14.7127C8.46626 14.6054 8.37908 14.4847 8.43273 14.2835C8.3992 14.1829 8.32543 14.136 8.23155 14.1092C8.23825 13.794 8.01696 13.5861 7.97672 13.3581C8.35896 13.5526 8.59367 13.9348 8.94908 14.1561L8.9692 14.2835C9.77392 14.9407 10.2769 16.007 10.9072 16.8989C10.9676 17.1872 11.1084 17.3549 11.2693 17.5091L11.2962 17.6834C11.5644 17.9182 11.4102 18.126 11.6248 18.4278C11.6382 18.9106 12.0741 19.6148 11.8326 20.0708C11.893 20.1781 11.8662 20.2921 11.8259 20.3927ZM10.6859 19.8562C10.4848 19.5946 10.2702 19.3063 10.0489 18.9576C9.9818 18.857 9.98851 18.7564 10.0019 18.6089C10.4445 19.0112 10.6993 19.6684 11.1218 20.0976C11.1285 20.1781 11.1822 20.1982 11.1755 20.2921C11.3029 20.4329 11.4437 20.5603 11.4772 20.8285C11.1553 20.614 10.9609 20.2183 10.6859 19.8562ZM11.3699 25.3886C11.2157 25.3685 11.1285 25.2612 11.0749 25.1002C11.2559 25.0868 11.3364 25.2075 11.3699 25.3886ZM11.6382 26.2537C11.6717 26.428 11.7052 26.428 11.6851 26.5957C11.3565 26.5219 11.1755 26.2537 10.9542 26.0458C11.2157 25.905 11.3565 26.2872 11.6382 26.2537ZM9.54592 19.5544C10.2098 20.0104 10.5317 20.9157 10.8536 21.8277C10.364 21.1437 9.92816 20.3792 9.54592 19.5544ZM9.25085 22.2167C9.49227 22.1899 9.55262 22.0289 9.63309 21.8814C9.54592 21.7607 9.47215 21.9619 9.37827 21.8948C9.35815 21.8076 9.48556 21.8277 9.45874 21.7339C9.32462 21.5863 9.1905 21.3516 8.95579 21.4254C9.02285 21.1437 8.76132 20.7548 8.53332 20.6005C8.50649 20.5067 8.58696 20.4932 8.55343 20.3927C8.5132 20.3122 8.35225 20.386 8.27178 20.3591C8.20472 20.2719 8.31202 20.0909 8.13766 20.1244C8.15778 19.9434 8.0639 19.7355 7.90295 19.7019C7.52742 18.8168 7.058 18.0523 6.70259 17.1336C7.00435 17.2543 7.11165 17.6298 7.37989 17.7975C7.6213 18.4613 8.0706 18.8503 8.43273 19.3465C8.52661 19.7221 8.72779 19.9635 8.95579 20.1579C9.18379 20.7816 9.64651 21.0968 9.80074 21.8143C9.89463 21.9417 10.0019 22.1429 9.89463 22.3106C10.1025 22.4648 10.3037 22.78 10.3573 23.0549C10.297 23.122 10.25 22.9946 10.1763 23.008C10.1293 23.0683 10.1092 23.1622 10.1562 23.236C10.2635 23.2829 10.3037 23.1958 10.3708 23.1555C10.4579 23.4103 10.6524 23.6518 10.7396 23.9871C10.136 23.5378 9.58615 23.0214 9.25085 22.2167ZM9.17038 22.0021C9.04968 21.9954 8.98932 21.9082 8.98261 21.7473C9.08991 21.7204 9.12344 21.8009 9.21732 21.7875C9.23744 21.8881 9.18379 21.9283 9.17038 22.0021ZM7.84931 21.8076C7.92978 21.7942 8.01696 21.7808 8.01025 21.8881C7.92978 21.8948 7.84931 21.9082 7.84931 21.8076ZM7.29271 21.0767C7.15189 21.0767 7.31283 20.8554 7.20553 20.8084C7.26589 20.728 7.3933 21.0096 7.29271 21.0767ZM6.95071 20.6676C6.95741 20.6274 6.97753 20.6005 6.98424 20.5603C7.07141 20.5603 7.058 20.681 6.95071 20.6676ZM8.13096 18.2467C8.05049 18.24 7.99684 18.2065 7.98343 18.1126C8.0639 18.1193 8.11755 18.1529 8.13096 18.2467ZM8.73449 19.1252C8.58026 18.8771 8.37237 18.7028 8.25166 18.4077C8.50649 18.5016 8.68755 18.8503 8.73449 19.1252ZM6.29352 15.8192C6.25999 15.5442 6.06552 15.4906 5.94481 15.3364C5.98505 15.2224 5.86434 15.1017 5.95152 15.0078C5.81069 14.8938 5.68328 14.6322 5.8241 14.4713C5.66987 14.1628 5.52904 13.7135 5.5894 13.3648C5.45528 12.9826 5.34128 12.6339 5.28092 12.2449C5.24069 12.0102 4.99927 11.7822 5.15351 11.5274C5.15351 11.3798 5.07974 11.3262 5.05962 11.2122C5.15351 11.0445 5.01939 10.8367 5.01268 10.6891C5.1401 10.2398 5.68328 10.3874 6.0454 10.4678C6.07223 10.5483 6.13928 10.5751 6.19293 10.6221C6.14599 10.944 6.36729 11.1652 6.28682 11.467C6.13929 11.5475 5.99175 11.7017 5.85763 11.856C6.1527 12.9222 6.58858 13.8074 6.97082 14.6859C7.0513 14.7999 7.20553 14.8066 7.32624 14.8669C7.30612 14.9474 7.29271 15.0346 7.23236 15.0815C7.54083 15.5644 7.76884 16.1143 7.92307 16.577C7.84931 16.8385 7.99684 17.1671 8.15107 17.3079C8.1779 17.6633 8.39249 17.7572 8.41261 18.059C8.28519 17.9919 8.15107 17.9182 8.1846 17.7103C8.12425 17.5426 7.88954 17.6097 7.77554 17.5158C7.71519 17.3951 7.74201 17.1671 7.57436 17.1872C7.58777 17.1336 7.64142 17.1 7.62801 17.0263C7.57436 16.9525 7.44695 16.9726 7.3866 16.9056C7.45365 16.6507 7.17871 16.6977 7.06471 16.5971C7.03118 16.5166 7.08483 16.4965 7.06471 16.4227C7.01106 16.3423 6.91047 16.3288 6.79647 16.3355C6.70259 16.0539 6.45446 16.0003 6.29352 15.8192ZM6.20634 18.0858C6.19293 18.0657 6.17282 18.0523 6.17282 18.012C6.19293 17.9919 6.22646 17.9785 6.2667 17.9718C6.28682 18.0389 6.2734 18.0858 6.20634 18.0858ZM5.95152 17.3616C5.89787 17.3482 5.83752 17.3012 5.88446 17.2476C5.93811 17.261 5.98505 17.3213 5.95152 17.3616ZM5.7101 16.8921C5.65646 16.8184 5.60951 16.7446 5.50892 16.7446C5.43516 16.3691 5.12668 16.3087 5.08645 15.893C4.77127 15.7722 4.77797 15.2157 4.50974 15.0346L4.33538 15.0614C4.34879 14.8602 4.28173 14.5786 4.10738 14.5384C4.14761 14.3238 3.97996 14.1695 3.7989 14.1494C3.75196 14.0689 3.89279 14.0153 3.7989 13.975C3.85255 13.8879 3.93302 14.0153 4.00679 13.9952C4.08055 14.25 4.2415 14.3908 4.47621 14.4378C4.75115 14.8938 5.11998 15.2358 5.47539 15.5912C5.46198 16.1277 5.87775 16.7044 5.88446 17.2274C5.84422 17.1939 5.81069 17.147 5.74363 17.147L5.7101 16.8921ZM7.01106 12.654C7.19883 12.7344 7.21224 13.0563 7.29942 13.2709C7.21224 13.0697 6.95741 12.8484 7.01106 12.654ZM7.31283 13.3447C7.35307 13.3782 7.37989 13.4319 7.3866 13.5123C7.32624 13.4989 7.26589 13.405 7.31283 13.3447ZM7.74201 12.2919C7.64813 12.1913 7.48718 12.1779 7.40671 12.0638C7.46707 11.8493 7.32624 11.742 7.17871 11.7151C7.18542 11.6213 7.29942 11.4938 7.21224 11.4067C7.29942 11.353 7.44695 11.467 7.55424 11.4871C7.60789 11.7353 7.86272 11.8157 8.00354 11.9834C8.1846 12.1913 8.25837 12.5266 8.57355 12.5869C8.80826 12.9021 9.03626 13.2307 9.31121 13.4989C9.33803 13.5325 9.37827 13.5459 9.44533 13.5325C9.46544 13.6196 9.46544 13.6934 9.45203 13.7605C9.09662 13.7202 9.05638 13.2709 8.71438 13.2039C8.61379 12.9021 8.36567 12.8015 8.13096 12.6808C8.05049 12.5131 7.90966 12.426 7.71519 12.4126C7.74201 12.379 7.70177 12.3053 7.74201 12.2919ZM4.9255 10.2868C4.88527 10.0521 4.97915 9.65641 4.81821 9.54241C4.9188 9.4217 4.83162 9.30099 4.83162 9.11323C4.82492 9.00593 4.68409 9.07299 4.68409 8.95899C4.8048 8.94558 4.84503 8.65051 4.67068 8.68404C4.77797 8.55663 4.82492 8.2951 4.6908 8.12074C4.66397 8.02686 4.75786 8.02015 4.77127 7.9598C4.57009 7.57085 4.90539 7.30932 4.71762 6.88014C4.8048 6.80637 4.83833 6.68567 4.87856 6.57837C4.87186 6.5046 4.86515 6.44425 4.78468 6.46437C4.97245 6.02177 5.39492 6.41743 5.74363 6.43084C5.83752 6.69237 6.06552 6.76614 6.1594 7.02767C6.62211 7.32273 6.77635 8.03356 7.25248 8.31521C7.25918 8.38227 7.25248 8.43592 7.22565 8.46945C7.37318 8.59016 7.6146 8.79804 7.53413 9.03275C8.01695 9.38817 8.05719 10.1191 8.5199 10.4611C8.50649 10.5215 8.45955 10.5684 8.43943 10.6221C8.46625 10.7092 8.54002 10.7428 8.59367 10.8031C8.86191 11.514 9.33803 12.1913 9.61297 12.9893C9.33132 12.9893 9.4185 12.4997 9.04967 12.6137C9.05638 12.3187 8.88873 12.1041 8.60038 12.1175C8.5199 12.0169 8.62049 11.9901 8.58696 11.8627C8.45955 11.6548 8.28519 11.514 8.05049 11.4603C7.98343 11.2591 7.86272 11.1384 7.62801 11.1652C7.55424 11.1116 7.64813 11.0848 7.63471 11.011C7.52071 10.9104 7.42683 10.7763 7.24577 10.7629C7.19212 10.5483 7.00436 10.5148 6.82329 10.4678C6.70929 10.2264 6.48129 10.1392 6.23317 10.0722C6.13928 10.0722 6.12587 10.1392 6.09905 10.1929C5.77716 10.0185 5.27421 10.0789 4.9255 10.2868ZM9.81415 14.2299C9.73368 14.1963 9.61297 14.2165 9.61297 14.0823C9.72698 14.0756 9.81415 14.0958 9.81415 14.2299ZM9.94157 14.4176C9.9751 14.5249 9.82086 14.5249 9.84098 14.4042C9.88792 14.3975 9.90133 14.4311 9.94157 14.4176ZM3.63796 20.1512C3.61784 20.0775 3.64467 20.0372 3.72514 20.0372L3.73855 20.1378L3.63796 20.1512ZM5.01268 19.6483C4.98586 19.6081 4.93221 19.5946 4.93892 19.5075L5.1401 19.4806C5.17363 19.5946 5.10657 19.6349 5.01268 19.6483ZM24.6545 0.576531C24.5405 0.569825 24.4667 0.516177 24.4466 0.375352C24.5472 0.39547 24.6679 0.502765 24.6545 0.576531ZM24.4466 10.7428C24.3594 10.716 24.2521 10.7092 24.1783 10.6556C24.232 10.6154 24.299 10.5818 24.2521 10.4678C24.004 10.3739 23.6553 10.4209 23.4407 10.2801C23.1993 10.441 22.8237 10.3874 22.522 10.4343C22.5085 10.7294 22.1598 10.7696 22.0727 11.0043C22.0525 10.9708 22.0123 10.9641 21.9654 10.9708C21.9318 11.0043 21.9721 11.0915 21.905 11.1049C21.8111 11.1183 21.8178 11.011 21.6971 11.058C21.6435 11.2256 21.4624 11.2927 21.4557 11.5005C21.6971 11.581 21.8178 11.2189 22.1196 11.2055C22.1531 11.1585 22.1598 11.0848 22.2001 11.0445C22.5488 10.9037 22.7902 10.6891 23.1791 10.6288C24.3862 10.4276 24.4801 11.7755 24.2655 12.7546C24.1582 12.4126 23.7492 12.426 23.6016 12.721C23.5144 12.6942 23.4206 12.6808 23.32 12.6875C23.1724 12.8484 22.8841 12.9088 22.8237 13.1368C22.4951 13.2441 22.3811 13.519 22.1397 13.6867C22.0592 13.7068 21.9989 13.7001 21.9385 13.6934C21.7776 14.0153 21.4624 14.2232 21.2679 14.5249C21.2344 14.4981 21.1741 14.5115 21.1137 14.5182C21.0869 14.7328 20.879 14.8133 20.7717 14.9742C20.7046 14.9474 20.6175 14.9474 20.5772 14.8736C20.7046 14.7328 20.6577 14.4579 20.7784 14.3103C20.7851 14.2165 20.7113 14.2232 20.7046 14.1427C20.8052 13.9683 20.9326 13.7605 20.7784 13.5727C20.4431 13.5794 20.5035 13.8812 20.309 13.9952C20.309 14.1427 20.4632 14.0823 20.4699 14.2232C20.3626 14.2165 20.3761 14.136 20.262 14.2031C20.2419 14.3506 20.2419 14.5115 20.0542 14.5384C20.0005 14.5384 19.9938 14.478 19.967 14.4512C19.9871 14.2165 20.2017 14.1226 20.1011 13.8007C20.423 13.3313 20.5437 12.7143 20.8723 12.2449C21.1137 12.1779 21.1137 11.923 21.3216 11.8291C21.3149 11.7084 21.221 11.7084 21.2143 11.5944C21.3484 11.1787 21.6502 10.8903 21.7038 10.4075C21.7776 10.3874 21.838 10.3605 21.8983 10.327C21.8782 10.2398 21.8514 10.2398 21.8715 10.1526C22.1665 9.91794 22.3811 9.51558 22.3007 9.0797C22.0123 9.06628 21.952 9.26076 21.6904 9.24064C21.6971 9.15346 21.7441 9.09981 21.7038 8.98581C21.8312 8.84499 21.9117 8.67063 21.9318 8.44933C22.247 7.77874 22.4415 7.00755 22.8036 6.37719C22.8237 5.94801 22.9914 5.63283 23.1859 5.33777C23.1859 5.0427 23.3803 4.88847 23.4675 4.66717C23.4071 4.42575 23.501 4.31175 23.6284 4.21116C23.6351 4.15081 23.6486 4.09046 23.6217 4.00998C23.9034 3.74845 23.8363 3.22539 24.0777 2.93032C24.0643 2.58161 24.2588 2.38714 24.3996 2.15243C24.3795 2.05184 24.413 1.98478 24.413 1.89761C24.5002 1.85066 24.5539 1.7769 24.6142 1.71655C24.641 1.15995 24.9763 0.838063 24.9361 0.227821C24.916 0.227821 24.9026 0.207703 24.9026 0.180879C24.4734 0.0333478 24.118 0.0601714 23.8363 0.32841C23.7492 0.415588 23.7223 0.549707 23.6284 0.636884C23.4675 0.784416 23.2663 0.851476 23.1188 0.985595C23.1121 1.03254 23.1188 1.09289 23.0853 1.11971C23.0048 1.15995 22.931 1.20689 22.8506 1.25383C22.7835 1.53548 22.589 1.72325 22.4147 1.92443C22.4281 2.3402 22.0257 2.4475 21.8111 2.69562L21.8312 2.82303C21.4557 3.20527 21.0735 3.6948 20.7717 4.11057C20.6577 4.27152 20.6041 4.40564 20.5638 4.5934C20.3626 4.66046 20.3559 4.93541 20.2755 5.0427C20.1413 5.21706 19.7658 5.31765 19.6585 5.51212C19.4372 5.54565 19.3232 5.65965 19.1556 5.73342C19.1422 5.80718 19.1153 5.86754 19.1086 5.9413C19.0147 6.00166 18.9343 6.07542 18.8873 6.17601C18.5386 6.30343 18.5789 6.71249 18.1899 6.80637C17.9351 7.18191 17.7004 7.57756 17.2712 7.82568C17.2779 7.90615 17.231 7.94639 17.2511 8.03356C16.7951 8.4091 16.6609 9.02605 16.2318 9.4217C16.0976 9.91794 15.7087 10.2264 15.4405 10.6221C15.3063 11.1988 14.8503 11.5408 14.629 12.0571L14.6559 12.2315C14.5553 12.4059 14.3407 12.493 14.3474 12.7546C14.1931 12.8619 14.1328 13.0362 14.1127 13.2441C13.8377 13.519 13.6902 13.8879 13.6298 14.3238C13.4354 14.4311 13.4421 14.6859 13.2946 14.8267C13.2878 14.9206 13.3884 14.9675 13.2946 15.0011C13.0397 14.9273 13.0196 14.5384 12.6776 14.5853C12.5971 14.6054 12.6038 14.6926 12.5167 14.706C12.4429 14.6993 12.4362 14.5987 12.3289 14.6322C12.0741 14.8804 12.2283 15.2425 12.2618 15.5778C12.2887 15.8795 12.235 16.2417 12.2484 16.5703C12.2618 16.7983 12.3825 17.0129 12.2618 17.2006C11.7723 16.4026 11.3029 15.4906 10.8268 14.7664C10.7999 14.2567 10.3506 13.8141 10.2903 13.2977C10.2433 13.2374 10.0757 13.338 10.0623 13.3045C10.0824 13.224 10.2031 13.2173 10.1897 13.11C10.069 13.0496 10.1293 12.9356 10.0891 12.768C9.95498 12.6674 9.87451 12.4997 9.78062 12.3589C9.78733 12.2986 9.8678 12.2919 9.83427 12.198C9.65321 12.037 9.66662 11.7353 9.40509 11.6481C9.42521 11.3664 9.33132 11.011 9.0765 10.9372C9.08991 10.8635 9.13015 10.7964 9.08991 10.6824C9.05638 10.6355 8.98932 10.6355 8.94908 10.6019C8.91555 10.5215 8.9692 10.5014 8.94908 10.4276C8.58026 9.97829 8.41931 9.26746 7.99684 8.89193C7.99013 8.83157 8.03037 8.81146 8.00354 8.73769C7.76883 8.50969 7.70848 8.22804 7.55424 7.91286C7.44695 7.87262 7.35307 7.82568 7.25918 7.77874C7.0513 7.12155 6.61541 6.76614 6.32705 6.21625C6.17952 6.22295 6.13258 6.08213 6.02528 6.02848C5.97164 5.96813 5.91799 6.09554 5.83081 6.08213C5.79728 6.01507 5.85763 6.01507 5.83752 5.95471C5.71681 5.90107 5.56928 5.88095 5.42175 5.86083C5.29433 5.99495 5.08645 6.08883 4.84503 6.06872C4.75786 6.26989 4.49632 6.33696 4.48962 6.59849C4.54326 6.67896 4.61033 6.57166 4.67068 6.62531C4.62374 6.70578 4.64385 6.84661 4.5835 6.91367C4.56338 6.8332 4.52985 6.76614 4.43597 6.77955C4.32867 6.86673 4.41585 6.96732 4.49632 7.02767C4.43597 7.16849 4.52985 7.42332 4.32867 7.45685C4.38232 7.66474 4.16773 7.72509 4.25491 8.02686C4.28844 8.10062 4.38903 8.08051 4.42256 8.15427C4.34879 8.21463 4.23479 8.25486 4.25491 8.38227C4.32197 8.4158 4.3555 8.48286 4.38232 8.57004C4.37562 8.6371 4.27503 8.6371 4.2482 8.69075C4.20797 8.95899 4.34209 9.32111 4.21467 9.52899C4.43597 9.69664 4.54997 10.2331 4.39573 10.4678C4.57679 10.669 4.31526 10.9507 4.55668 11.0781C4.39573 11.2055 4.43597 11.4737 4.3622 11.6615C4.71091 12.0169 4.55668 13.0362 4.83833 13.5928C4.77797 13.7873 4.93892 14.0823 4.93892 14.2902C4.76456 14.2031 4.65056 14.0421 4.52985 13.8946C4.43597 13.8879 4.36891 14.022 4.28173 13.9549C4.29514 13.861 4.38232 13.8275 4.37562 13.7135C4.04702 13.11 3.4569 12.8552 3.14842 12.2181C2.94054 12.1644 2.85336 11.9633 2.7796 11.7353C2.65218 11.7084 2.57171 11.6145 2.49795 11.5207C2.337 11.581 2.29677 11.5475 2.16935 11.514C1.80723 12.0236 2.61195 12.379 2.61195 12.8686C2.66559 12.9021 2.73936 12.9222 2.75948 13.0027C2.99419 13.5392 3.31607 13.9616 3.55078 14.4847C3.59772 14.5316 3.65137 14.5652 3.69831 14.6188C3.73855 14.9608 4.00679 15.0011 4.03361 15.3565C4.30185 15.551 4.3622 16.0204 4.63715 16.2081C4.73774 16.6239 5.01939 16.805 5.11327 17.2274C5.32786 17.3482 5.40833 17.6365 5.55587 17.8511C5.58269 18.2937 5.98505 18.401 5.99175 18.7765C5.85093 18.6759 5.68999 18.6089 5.60951 18.4278C5.26751 18.4949 5.18704 18.2266 4.95903 18.1395C4.95903 17.6499 4.34209 17.8377 4.0202 17.9651C4.06044 18.1193 4.16773 18.1797 4.28844 18.2333C4.37562 18.2333 4.28173 18.0992 4.34209 18.0724C4.50303 18.1596 4.67068 18.2132 4.85174 18.2803C5.24739 18.4211 5.63634 18.8503 5.97164 19.0112C6.01858 19.0381 6.08564 19.0112 6.12587 19.0381C6.14599 19.0515 6.1527 19.1386 6.19964 19.1789C6.35388 19.3197 6.55506 19.2862 6.47458 19.5209C6.64894 19.7757 6.91718 20.0574 6.97753 20.3658C6.56176 20.3323 6.4947 19.9501 6.23317 19.7623C6.11917 19.7958 6.29352 19.9165 6.18623 19.9434C6.1594 19.7757 5.99175 19.7891 6.00517 19.5611C5.96493 19.5343 5.89116 19.5544 5.8241 19.5611C5.8174 19.5142 5.88446 19.5209 5.85763 19.4538C5.60951 19.3868 5.55587 19.0649 5.24739 19.085C5.24069 18.9576 5.1468 18.9442 5.11327 18.8503C4.97245 18.9173 4.83162 18.8436 4.8048 18.9978C4.71091 18.9844 4.6975 18.8637 4.65056 18.7899C4.6908 18.7564 4.76456 18.743 4.73103 18.6491C4.55668 18.6156 4.45609 18.3876 4.44268 18.2333C4.26832 18.3071 4.20126 18.3473 3.97326 18.3272C3.92632 18.3876 4.03361 18.4546 3.94643 18.5083C3.85255 18.4211 3.81231 18.2669 3.7922 18.1529C3.76537 18.1529 3.72514 18.1663 3.71173 18.1395C3.5709 18.1998 3.59772 18.3339 3.51725 18.3943C3.63796 18.5955 3.92632 18.5753 3.98667 18.857C4.21467 18.9442 4.40244 19.085 4.5768 19.2526C4.53656 19.4136 4.67739 19.5142 4.77797 19.5812C4.77127 19.6349 4.72433 19.6617 4.75115 19.7355C4.84503 19.8092 4.88527 19.9501 4.90539 20.1177C4.96574 20.1848 5.0328 20.2451 5.08645 20.3189L5.10657 20.4664C5.32786 20.5938 5.44857 21.1169 5.73693 20.9627C5.60281 20.7682 5.34798 20.6743 5.39492 20.3256C5.32116 20.2854 5.21386 20.2921 5.17363 20.2049C5.18033 20.0507 5.39492 20.1982 5.40163 20.0439C5.22057 20.0171 5.09315 19.9232 5.00598 19.769C5.45528 19.6349 5.73693 19.9769 5.97834 20.2116C6.05881 20.2116 6.18623 20.1512 6.20634 20.2317C6.22646 20.3323 6.17952 20.3792 6.23987 20.453C6.33376 20.4597 6.42094 20.4865 6.52153 20.4865C6.6087 20.6207 6.62212 20.6944 6.65565 20.8755C6.68247 20.9425 6.78976 20.9157 6.82329 20.9761C6.91047 21.2443 7.13847 21.3248 7.32624 21.4656C7.28601 21.5193 7.33295 21.526 7.34636 21.5863C7.52742 21.6735 7.62801 21.8613 7.78225 21.982C7.96331 22.4916 8.54673 22.7129 8.77473 23.2628C9.18379 23.6182 9.44533 24.1614 9.82086 24.5571C9.83427 24.6577 9.96168 24.7649 9.91474 24.8454C9.46544 24.6442 8.98932 24.4833 8.66744 24.1078C8.58026 23.7859 8.29861 23.7121 8.08402 23.5579C7.93648 23.2762 7.7286 23.0885 7.5073 22.9074C7.32624 22.2569 6.78976 22.0692 6.52823 21.526C6.41423 21.4857 6.30693 21.4455 6.24658 21.3382C6.2667 21.2913 6.37399 21.3047 6.32705 21.1974C6.32705 21.1236 6.19293 21.2376 6.19293 21.1638C6.23987 21.0029 6.12587 20.8285 5.92469 20.8956C5.94481 21.0297 5.77046 21.0968 5.77046 21.2242C5.77046 21.5126 6.00517 21.4723 6.13258 21.6266C6.17952 21.6869 6.17282 21.7741 6.21305 21.8411C6.40752 22.1429 6.76965 22.3374 6.80318 22.5922C6.89706 22.619 7.03118 22.7397 6.97082 22.8739C6.39411 22.5654 6.02528 21.982 5.45528 21.6668C5.07304 21.2309 4.70421 20.7749 4.22138 20.4731C4.03361 19.9702 3.53737 19.883 3.33619 19.4069C3.28925 19.3734 3.21548 19.3666 3.17525 19.3264C2.94725 19.0045 2.69242 18.7095 2.37724 18.5016C2.34371 18.3071 2.25653 18.1864 2.10229 18.1596C2.02182 18.2132 2.10229 18.3809 2.01512 18.4278C1.881 18.3071 1.98829 18.1596 2.00841 18.0255C2.17606 17.9986 2.29677 18.0322 2.47112 18.059C2.71254 18.3339 3.11489 18.3272 3.41666 18.4546C3.54408 18.2669 3.38313 18.059 3.30937 17.8846C3.08807 17.9182 3.04113 17.7304 2.92042 17.6365C2.65218 17.6566 2.35712 17.3884 2.03523 17.4823C1.92123 17.3817 1.76029 17.3414 1.62617 17.261C1.41828 17.3549 1.18358 17.375 0.955573 17.5359C0.915337 17.5963 0.962279 17.717 0.968985 17.8109C1.15005 17.8846 1.23052 18.0858 1.46523 18.0925C1.59264 18.1596 1.40487 18.24 1.49876 18.3406C1.51887 18.4144 1.63288 18.354 1.6597 18.4211C1.61276 18.6089 1.82735 18.6558 1.95476 18.7095C1.98829 18.8101 1.93464 18.8436 1.96147 18.9375C2.13582 18.9844 2.20288 19.1722 2.337 19.2661C2.41747 19.2795 2.37724 19.1923 2.42418 19.1789C2.4443 19.085 2.27665 19.085 2.35041 19.0112C2.53818 19.1453 2.69912 19.3197 2.74607 19.6416C2.85336 19.7019 3.0076 19.7086 3.11489 19.769C3.09478 19.8495 3.0143 19.8897 3.04783 20.0037C3.2356 20.0708 3.30937 20.3658 3.58431 20.2317C3.61784 20.3658 3.6782 20.4597 3.75196 20.5402C3.71843 20.7749 3.83914 20.8956 4.09397 20.8218C4.30185 20.909 4.38232 21.1638 4.5835 21.2577L4.60362 21.4053C4.67068 21.4388 4.77797 21.4254 4.79809 21.5327C4.79139 21.6333 4.68409 21.6936 4.75786 21.7942C4.86515 21.8277 4.93892 21.7406 5.03951 21.8076C4.95904 22.0624 5.28092 22.1899 5.42845 22.0557C5.5894 22.0893 5.64304 22.2703 5.58269 22.438C5.64975 22.6056 5.87775 22.552 5.91128 22.7733C6.13929 22.8605 6.41423 22.894 6.48129 23.2025L6.68247 23.1756C6.74953 23.3098 6.84341 23.4103 6.93729 23.5176C7.07812 23.5243 7.07141 23.4103 7.17871 23.4573C7.26589 23.5579 7.11165 23.6719 7.22565 23.7792C7.34636 23.7926 7.31953 23.6853 7.44024 23.6987C7.31953 23.9871 7.64813 24.1547 7.86942 24.0675C8.27178 24.5973 8.82838 24.9192 9.31791 25.335C9.35144 25.3618 9.35815 25.4154 9.36486 25.4825C9.96839 26.0458 10.7128 26.428 11.3699 26.9243L11.3968 27.0986C11.5108 27.1791 11.5845 27.3199 11.6583 27.4473H12.2954C12.5234 27.4473 12.7111 27.2596 12.7111 27.0316V23.6987C12.7111 23.4707 12.5234 23.2829 12.2954 23.2829H11.4906C11.2626 23.2829 11.0749 23.0952 11.0749 22.8672V21.6936C11.0749 21.4656 11.2626 21.2778 11.4906 21.2778H14.6424C14.8705 21.2778 15.0582 21.4656 15.0582 21.6936V27.0316C15.0582 27.2596 15.246 27.4473 15.474 27.4473H16.1647C16.3927 27.4473 16.5805 27.6351 16.5805 27.8631V28.0039C16.7012 27.91 16.7414 27.7558 16.8621 27.6418C16.9225 27.6351 16.9292 27.5882 17.0097 27.5949C17.5193 27.0316 17.9284 26.3878 18.4313 25.8245C18.5453 25.8245 18.5721 25.7507 18.6459 25.7172C18.7197 25.4758 18.8471 25.2746 18.9276 25.0466C19.4037 24.9594 19.283 24.4229 19.625 24.2419C19.7055 23.8529 19.9603 23.5914 20.1749 23.303C20.1682 23.0616 20.3559 22.8135 20.5973 22.6861C20.5571 22.391 20.9528 22.2837 20.8656 21.8881C21.0131 21.821 21.0534 21.6735 21.2076 21.6131C21.2009 21.3717 21.3216 21.2242 21.4624 21.0968C21.3618 20.8822 21.5362 20.8151 21.6636 20.7145C21.6971 20.4329 21.905 20.2921 21.8916 19.9702C22.4482 19.7824 22.294 19.1453 22.75 18.8838C22.8036 18.5016 22.978 18.2065 23.1456 17.9182C23.1322 17.8578 23.092 17.831 23.0987 17.7505C23.2529 17.5091 23.3937 17.261 23.5279 17.0061C23.5144 16.9257 23.4407 16.919 23.4474 16.8117C23.5346 16.7781 23.5614 16.8385 23.6486 16.8117C23.7022 16.6105 23.7357 16.4026 23.8766 16.2752C23.8699 16.1545 23.7022 16.2551 23.7223 16.0941C23.8028 16.074 23.8363 16.121 23.9235 16.0874C23.9772 15.8795 24.0375 15.6851 24.118 15.504C24.1046 15.4168 24.0308 15.4034 24.0174 15.3162C24.0509 15.2291 24.1113 15.162 24.2186 15.1352L24.1917 14.934C24.4399 14.5249 24.5405 14.0153 24.6477 13.4989C24.5472 13.3514 24.7148 13.2374 24.6142 13.0966C24.7685 12.9423 24.9227 12.721 24.7483 12.4461C24.8892 12.3857 24.7819 12.1443 24.8422 12.0303C24.755 11.5475 24.5405 11.2055 24.4466 10.7428Z" fill="white"/>
<path d="M17.3102 12.9426C17.5248 12.8957 17.632 12.4598 17.3839 12.3994C17.2632 12.5537 17.3236 12.7213 17.3102 12.9426Z" fill="white"/>
<path d="M9.84925 22.5125C9.9096 22.2442 9.54077 22.4924 9.84925 22.5125Z" fill="white"/>
<path d="M17.2917 12.9679C17.2313 12.9947 17.2582 13.0886 17.2716 13.1758C17.4057 13.1892 17.4124 12.9612 17.2917 12.9679Z" fill="white"/>
<path d="M18.2602 11.9222C18.2267 11.9088 18.1865 11.9021 18.1328 11.9155L18.1529 12.0429C18.2468 12.0429 18.2401 11.9692 18.2602 11.9222Z" fill="white"/>
<path d="M17.3554 13.5938L17.2817 13.6072C17.2616 13.6407 17.2616 13.6809 17.275 13.7346C17.3689 13.7413 17.3823 13.6809 17.3554 13.5938Z" fill="white"/>
<path d="M9.86268 22.613C9.82244 22.727 9.87609 22.9416 10.0102 22.9215C10.0773 22.8544 10.0974 22.7471 10.0974 22.6331C10.0504 22.5862 9.96327 22.5929 9.86268 22.613Z" fill="white"/>
<path d="M16.6823 15.6376C16.7695 15.6041 16.7024 15.4633 16.6353 15.47C16.5884 15.5035 16.5616 15.6711 16.6823 15.6376Z" fill="white"/>
</svg>
</a>';
		}
	} else {
		$link = $perm;
	}
}

//Link to oku
function print_oku_link() {
global $post;
$thePostID = $post->ID;
$post_id = get_post($thePostID);
$title = $post_id->post_title;
$perm = get_permalink($post_id);
$post_keys = array(); $post_val = array();
$post_keys = get_post_custom_keys($thePostID);

	if (!empty($post_keys)) {
		foreach ($post_keys as $pkey) {
			if ($pkey=='oku_link') {
				$post_val = get_post_custom_values($pkey);
			}
		}
		if (empty($post_val)) {
			$link = $perm;
		} else {
			$link = $post_val[0];
			echo '<a class="badge badge--oku" target="_blank" href="'.$link.'" rel="bookmark" title="Save '.$title.' to Oku">Save to <svg width="66" height="23" viewBox="0 0 66 23" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M18.1974 11.6686V13.4675C16.5951 13.4694 15.059 14.0967 13.9259 15.2117C13.0115 16.1116 12.4199 17.2698 12.2246 18.5122H18.1974V20.3111H4.25V18.5122H10.2548C10.0592 17.2615 9.46422 16.0954 8.54386 15.1897C7.4049 14.0689 5.86072 13.4383 4.25 13.4364V11.6338C5.68891 11.6348 7.10029 12.0219 8.33222 12.7536C9.56415 13.4853 10.57 14.5338 11.2414 15.7862C11.9119 14.5431 12.9135 13.5032 14.139 12.7778C15.3644 12.0524 16.7674 11.6689 18.1974 11.6686Z" fill="white"/>
<path class="oku-circle" d="M11.2239 11.1385C12.4553 11.1385 13.4536 10.1561 13.4536 8.94425C13.4536 7.7324 12.4553 6.75 11.2239 6.75C9.99242 6.75 8.99414 7.7324 8.99414 8.94425C8.99414 10.1561 9.99242 11.1385 11.2239 11.1385V11.1385Z" fill="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M38.8448 19.8185L39.3646 19.705C39.8295 19.6135 40.1345 19.4397 40.1345 18.8531V9.09797L38.8448 8.37784V7.84804L42.2322 6.75H42.4823V18.8531C42.4823 19.4589 42.8292 19.6483 43.2904 19.7426L43.733 19.8185V20.5578H38.8448V19.8185ZM42.6943 15.6331L44.965 13.4371C45.7349 12.6794 45.6391 12.1496 44.8116 11.9977L44.1951 11.8842V11.1458H48.9493V11.8842L48.4528 11.9812C47.9014 12.0749 47.3954 12.3409 47.0097 12.7398L44.8497 14.8178L49.1418 19.9329L48.9688 20.6146H46.621L42.6943 15.6331ZM30.9729 7.14722C27.3736 7.14722 24.1973 9.87493 24.1973 14.1362C24.1973 18.0764 27.0463 20.7473 30.7228 20.7473C34.5146 20.7473 37.5357 18.1523 37.5357 13.9285C37.5357 9.87493 34.7071 7.14722 30.9729 7.14722ZM30.7609 8.35964C33.1664 8.35964 34.7257 10.4432 34.7257 14.1362C34.7257 17.7351 33.2036 19.5349 30.9915 19.5349C28.6632 19.5349 27.0072 17.4322 27.0072 13.7766C27.0072 10.0826 28.6437 8.35964 30.7609 8.35964ZM51.1818 13.1325V17.66C51.1818 19.7811 52.6259 20.7474 54.0318 20.7474C55.4897 20.7474 56.7599 19.8753 57.4721 18.8532V20.7501H57.9147L61.2063 20.1251V19.4215L60.5554 19.3647C59.9585 19.2888 59.7084 19.061 59.7084 18.5879V10.8833H59.2276L55.897 11.4872V12.1698L56.5321 12.2613C57.1095 12.3181 57.3401 12.5642 57.3401 13.1325V18.4223C56.7281 18.7992 56.022 19.0022 55.3 19.0088C54.4186 19.0088 53.5334 18.6684 53.5334 17.0772V10.8833H53.0685L49.7964 11.4872V12.1698L50.3933 12.2613C50.9512 12.3373 51.1818 12.5642 51.1818 13.1325Z" fill="white"/>
</svg>
</a>';
		}
	} else {
		$link = $perm;
	}

}

// Remove "category" from archives
add_filter( 'get_the_archive_title', function ( $title ) {

    if( is_category() ) {

        $title = single_cat_title( '', false );

    }

		if( is_tag() ) {

        $title = single_tag_title( '', false );

    }
    return $title;

});

// Posts nav
the_posts_navigation(
    array(
        'prev_text' => __('Previous', 'eoc_textdomain'),
        'next_text' => __('Next', 'eoc_textdomain'),
        'screen_reader_text' => __('Posts navigation', 'eoc_textdomain')
    )
);

// Get total posts
function wpb_total_posts() {
	$total = wp_count_posts()->publish;
	echo $total;
}
